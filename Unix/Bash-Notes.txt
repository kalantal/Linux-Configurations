#s3cmd Common Commands
#List all objects in s3://og-1.8.6
s3cmd ls s3://og-1.8.6 | awk '{print $4}' 2>&1 | tee -a /tmp/og-objects.txt

#removes the last 1000 objects from that list
sed -i '1,1000d' /tmp/og-objects.txt

#Remove all objects in s3://og-1.8.6
cat /tmp/og-objects.txt | while read line ; do s3cmd rb --recursive --force $line ; done

#Linux Permissions
sudo chown -R jr09824:jr09824 /home/jr09824/s3-tests/

#Run script in background 
noshup ./run_all.sh > /tmp/nohup.out & 
nohup ./scripts/s3deletebuckets_1pass.sh > /tmp/nohup.out 2> /tmp/nohup.err < /dev/null &
tail -f /tmp/nohup.out

#Find running processes / Kill process
ps aux | grep "run_all.sh"
pkill -9 -f run_all.sh

#File not found, then do
if [ ! -f s3.conf ]; then
	echo "no s3.conf found, see README.MD, exiting" && exit 0
fi

#Remove spaces
grep -m 1 "access_key" s3.conf | sed 's/ //g'
access_key=111111111111

#Remove ^M endings
#sed -i "s/\r//g" ~/.s3cfg
#sed -i "s/\r//g" credentials
#sed -i "s/\r//g" cleanupKeys

#RHEL Setup
ifconfig
ifdown ens33
ifup ens33

subscription-manager register
jr09824
Gpass

subscription-manager attach
yum update -y

yum groupinstall "Development tools" -y

#Pip download only / install locally
virtualenv/bin/pip download nose-blacklist -d dependencies/pip
virtualenv/bin/pip install nose-blacklist --find-links dependencies/pip
# -r requirements.txt

#YUM download only / install locally
yum install --downloadonly --downloaddir=./ python-virtualenv
yum install dependencies/rpms/*

#Build from tar
tar -xzvf libevent-1.4.14b-stable.tar.gz
cd libevent-1.4.14b-stable
./configure
make
sudo make install

#Port check
sudo lsof -i -P -n | grep LISTEN
netstat -tulpn | grep LISTEN
lsof -i
nmap -sT -O localhost
sudo netstat -tulpn | grep LISTEN
sudo ss -tulpn

#Change MAC
First, turn off the Network card using command:

ip link set dev ens33 down

Next, set the new MAC is using command:
ip link set dev ens33 address XX:XX:XX:XX:XX:XX

Finally, turn it on back with command:
ip link set dev ens33 up

Now, verify new MAC id using command:
ip link show ens33
